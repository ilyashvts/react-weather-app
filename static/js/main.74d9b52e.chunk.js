(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{26:function(e,a,t){e.exports=t(61)},5:function(e){e.exports=JSON.parse('{"WEATHER_URL":"https://api.openweathermap.org/data/2.5/","WEATHER_API_KEY":"f643fd90cb1908f1238085bc07f2a161","DaysShort":["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],"Days":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"Month":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}')},54:function(e,a,t){e.exports=t.p+"static/media/sun.eacc3127.svg"},55:function(e,a,t){e.exports=t.p+"static/media/rain.f2998250.svg"},56:function(e,a,t){e.exports=t.p+"static/media/cloudy-day.fbc9f7f5.svg"},57:function(e,a,t){e.exports=t.p+"static/media/sunrise.1bc312cc.svg"},58:function(e,a,t){e.exports=t.p+"static/media/sunset.db4f302e.svg"},59:function(e,a,t){e.exports=t.p+"static/media/bg.2cbba09e.jpg"},60:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(6),s=t.n(c),i=t(3),l=t(2),o=t(23),u=t(24),m=t(4),d={location:String,date:String,current:Object,daily:Array},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_WEATHER":return Object(m.a)({},e,{},a.payload);default:return e}},p={location:"",isLocation:!1,isLoading:!0,isError:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LOADING":return Object(m.a)({},e,{isLoading:!0});case"CHOOSE_LOCATION":return Object(m.a)({},e,{chooseLocation:!0});case"SET_LOCATION":return Object(m.a)({},e,{location:a.payload});case"GET_WEATHER":return Object(m.a)({},e,{isLoading:!1,isLocation:!0,isError:!1});case"ERROR":return Object(m.a)({},e,{isError:!0});default:return e}},f=Object(i.c)({main:_,weather:E}),h=t(10),y=t.n(h),N=t(25),g=t(11),v=t.n(g),w=t(5),b=w.WEATHER_URL,O=w.WEATHER_API_KEY,L=w.Days,T=w.DaysShort,S=w.Month,D=new Date,R="".concat(L[D.getDay()],", ").concat(D.getDate()," ").concat(S[D.getMonth()]," ").concat(D.getFullYear()),j=function(e){var a,t=localStorage.getItem("location");if(e)a=e,localStorage.setItem("location",JSON.stringify(e));else{if(!t)return{type:"No location"};a=JSON.parse(t),console.log(a)}return function(){var e=Object(N.a)(y.a.mark((function e(t){var n,r,c,s,i,l,o,u,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(b,"weather"),{params:{appid:O,q:a,units:"metric"}});case 3:return n=e.sent,e.next=6,v.a.get("".concat(b,"forecast"),{params:{appid:O,q:a,units:"metric"}});case 6:return r=e.sent,c=n.data,s=r.data,i="".concat(new Date(1e3*c.sys.sunrise).getHours(),":").concat(new Date(1e3*c.sys.sunrise).getMinutes()),l="".concat(new Date(1e3*c.sys.sunset).getHours(),":").concat(new Date(1e3*c.sys.sunset).getMinutes()),o=s.list.filter((function(e){return 9===new Date(1e3*e.dt).getHours()})),u=o.map((function(e){return{day:"".concat(T[new Date(1e3*e.dt).getDay()]),temperature:Math.round(e.main.temp),weather:e.weather[0].main}})),m={location:"".concat(c.name,", ").concat(c.sys.country),date:R,current:{temperature:Math.round(c.main.temp),weather:c.weather[0].main,feelsLike:Math.round(c.main.feels_like),pressure:c.main.pressure,humidity:c.main.humidity,wind:c.wind.speed,sunrise:i,sunset:l},daily:u},e.abrupt("return",t({type:"GET_WEATHER",payload:m}));case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",t({type:"ERROR"}));case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(a){return e.apply(this,arguments)}}()},A=function(e){var a=e.weather,n=e.className;switch(a){case"Clear":return r.a.createElement("img",{src:t(54),alt:"sun",className:n});case"Rain":return r.a.createElement("img",{src:t(55),alt:"rain",className:n});case"Clouds":return r.a.createElement("img",{src:t(56),alt:"cloudy-day",className:n});default:return r.a.createElement("span",null,"No icon")}},W=t(63),x=Object(l.b)((function(e){var a=e.main.isLocation;return{weather:e.weather,isLocation:a}}),{})((function(e){var a=e.isLocation,n=e.weather,c=n.location,s=n.date,i=n.current,l=n.daily;return a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"current"},r.a.createElement("div",{className:"current__main"},r.a.createElement("span",{className:"location"},r.a.createElement(W.a,null),c),r.a.createElement("span",{className:"date"},s),r.a.createElement("span",{className:"temperature"},i.temperature,"\u2103")),r.a.createElement(A,{className:"current__icon",weather:i.weather}),r.a.createElement("div",{className:"current__secondary"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"info__inner"},r.a.createElement("span",{className:"info__title"},"Feels like:"),r.a.createElement("span",{className:"info__value"},i.feelsLike,"\u2103")),r.a.createElement("div",{className:"info__inner"},r.a.createElement("span",{className:"info__title"},"Pressure:"),r.a.createElement("span",{className:"info__value"},i.pressure," mm")),r.a.createElement("div",{className:"info__inner"},r.a.createElement("span",{className:"info__title"},"Humidity:"),r.a.createElement("span",{className:"info__value"},i.humidity,"%")),r.a.createElement("div",{className:"info__inner"},r.a.createElement("span",{className:"info__title"},"Wind:"),r.a.createElement("span",{className:"info__value"},i.wind," m/s"))),r.a.createElement("div",{className:"sunstate"},r.a.createElement("div",{className:"sunrise"},r.a.createElement("img",{src:t(57),alt:"",className:"sunstate__icon"}),i.sunrise),r.a.createElement("div",{className:"sunset"},r.a.createElement("img",{src:t(58),alt:"",className:"sunstate__icon"}),i.sunset)))),r.a.createElement("div",{className:"daily"},l.map((function(e,a){return r.a.createElement("div",{className:"daily__inner",key:a},r.a.createElement("span",{className:"daily__day"},e.day),r.a.createElement(A,{className:"daily__icon",weather:e.weather}),r.a.createElement("span",{className:"daily__temperature"},e.temperature,"\u2103"))})))):r.a.createElement("h5",null,"Please, enter the city name")})),H={setLocation:function(e){return{type:"SET_LOCATION",payload:e.target.value}},getWeather:j},M=Object(l.b)((function(e){return{location:e.main.location}}),H)((function(e){var a=e.location,t=e.setLocation,n=e.getWeather;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:""},"Your current weather"),r.a.createElement("div",{className:"input-group mt-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter the city name",value:a,onChange:t}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-secondary",type:"button",id:"button-addon2",onClick:function(){n(a)}},"Search"))))})),I=function(){return r.a.createElement("h2",null,"City not found")},k={getWeather:j},C=Object(l.b)((function(e){var a=e.main;return{isLoading:a.isLoading,isError:a.isError}}),k)((function(e){var a=e.getWeather,c=e.isLoading,s=e.isError;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",{className:"weather"},r.a.createElement("img",{className:"weather__bg",src:t(59),alt:""}),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(M,null)),r.a.createElement("div",{className:"col-12 h-100 mt-5"},r.a.createElement("div",{className:"weather__board"},c||s?r.a.createElement(I,null):r.a.createElement(x,null))))))})),J=(t(60),Object(i.e)(f,Object(i.d)(Object(i.a)(u.a,o.logger),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())));s.a.render(r.a.createElement(l.a,{store:J},r.a.createElement(C,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.74d9b52e.chunk.js.map